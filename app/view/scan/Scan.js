Ext.define('VulnerabilityScannerClient.view.scan.Scan', {
    extend: 'Ext.form.Panel',
    xtype: 'scan',
    controller: 'scan-controller',
    title: 'New Scan',

    defaultType: 'textfield',
    scrollable: 'y',

    requires: [
        'VulnerabilityScannerClient.store.Target',
        'VulnerabilityScannerClient.model.Target'
    ],

    buttons: [{
        text: 'Reset',
        handler: 'reset'
    }, {
        text: 'Submit',
        handler: 'submit'
    }],

    items: [{
        xtype: 'fieldset',
        margin: '20 0 0',
        title: 'Target to scan',
        defaults: {
            xtype: 'textfield'
        },
        items: [{
            fieldLabel: 'URL',
            name: 'url',
            placeholder: 'http://...',
            width: '100%',
        }, {
            /*validators: {
                type: 'range',
                min: 1,
                max: 5,
                minOnlyMessage: 'The rating must be at least {0}',
                maxOnlyMessage: 'The rating must be no more than than {0}',
                bothMessage: 'Invalid rating, must be between {0} and {1}'
            }*/
            xtype: 'combobox',
            fieldLabel: 'Server/CMS',
            name: 'server',
            valueField: 'server',
            displayField: 'server',
            forceSelection: true,
            queryMode: 'local',
            placeholder: 'Select a server...',
            store: {
                type: 'targets'
            }
        }]
    }]
});